# OldFriend
即是老人的朋友，也是您的老友。一款基于python的老人纯听终端，纯粹的声音与按键交互

主要技术特征：
线性列表分级菜单、分离式播放与确认操作（在有主音频播放且当前在浏览其他项目时，按播放键只会暂停当前播放，而不会与SUI交互）、快捷按键操作、快捷help键（按下即可描述当前页面的详细信息）、全播报SUI、AI语音交互（未来）

逻辑视图：
```
                                                                            
                 ┌───SUI───┐     Main sound      ┌───SoundManager──┐
 User─────OP────►│         ├────────────────────►│                 │
                 └────┬────┘   action brodcast   └────────┬────────┘
                      │                                   │              /
                      │                                   │           __/│
                      │Get item TTS                       │           │  │
                      │                                   └─OS──────► │_ │
                      │                                                 \│
                      ▼                                                  \
             ┌───TTS_manager───┐Call TTS servers ┌───XunFeiTTS───┐   Speaker
             │                 ├──────────┬─────►│               │
             └────────┬────────┘          │      └───────────────┘
                      │                   │
                      │                   │
                      │Search local first │
                      │                   │
                      ▼                   │      ┌───OtherTTS───┐
                  LocalFile               └─────►│              │
                                                 └──────────────┘
```

### 遗留问题：
- [x] 当已经有主音频加载播放时，切换其它主音频后，播报完标题后才会进行主音频加载，这时候旧主音频会继续播放一段时间，再播放新加载好的主音频，会引起大家困惑（可以考虑设计一个预载函数和与之对应的播放功能，或者播报开始之前就暂停主音频）
- [x] 播放结束之后不能续播
- [ ] 目前还是只能加载20条内容，不管是搜索还是专辑，这里要完成以下这个功能
- [ ] 播放记录信息持久化，并增加收藏和历史播放内容（按专辑）
- [ ] 分类等更多api有待添加
- [ ] 返回和进入部分功能时需要播报，有的时候要停顿，这里优化一下
- [ ] 播放时关机关不掉
